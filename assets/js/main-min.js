var Alien=function(){};$(document).ready((function(){Alien.prototype.initialize=function(){this.direction=1,this.goingRight=!0,this.invadersID,this.invadersCoord=[]},Alien.prototype.resetAliens=function(){for(let e=0;e<30;e++)this.invadersCoord[e]=e>9&&e<20?e+5:e>=20&&e<30?e+10:e}}));var Player=function(){};$(document).ready((function(){Player.prototype.initialize=function(e){this.squares=e,this.playerIndex=202,this.alive=!0},Player.prototype.getPlayerIndex=function(){return this.playerIndex}}));var GameEngine=function(){};$(document).ready((function(){GameEngine.prototype.initialize=function(e){this.gameOver=!1,this.aliensDefeated=!1,this.grid=e,this.gridWidth=15,this.currentLevel=0,this.score=0,this.aliensRemoved=[],this.currentScreen="start",this.screens=$("main.prototype").children();for(let e=0;e<225;e++)this.grid.append("<div class='square'></div>");this.squares=Array.from($(".grid .square")),this.aliens=new Alien,this.aliens.initialize(),this.aliens.resetAliens(),this.drawInvaders(),this.player=new Player,this.player.initialize(),this.addPlayer()},GameEngine.prototype.update=function(){this.player.alive&&this.currentLevel<3&&($(document).keydown((e=>{this.movePlayer(e)})),this.startInvaders(),$(".intermission-button").click((()=>{this.switchLevels(this.currentLevel),this.screens.eq(1).toggleClass("active"),this.screens.eq(2).fadeIn(750).toggleClass("active")})),$(".next-lvl-button").click((()=>{this.resetGame(),this.screens.eq(1).toggleClass("active"),this.startInvaders(),this.screens.eq(2).toggleClass("active"),this.screens.eq(2).css("display","none")})),$(document).keydown((e=>{this.shootLaser(e)})))},GameEngine.prototype.drawInvaders=function(){this.aliens.invadersCoord;for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliensRemoved.includes(e)||(this.squares[this.aliens.invadersCoord[e]].classList.add("invader"),this.squares[this.aliens.invadersCoord[e]].innerHTML="<i class='fas fa-alien-monster'></i>")},GameEngine.prototype.addPlayer=function(){let e=this.player.playerIndex;this.squares[e].classList.add("player"),this.squares[e].innerHTML="<i class='fas fa-starfighter'></i>"},GameEngine.prototype.movePlayer=function(e){switch(this.squares[this.player.playerIndex].classList.remove("player"),e.key){case"ArrowLeft":this.player.playerIndex%this.gridWidth!=0&&(this.player.playerIndex-=1);break;case"ArrowRight":this.player.playerIndex%this.gridWidth<this.gridWidth-1&&(this.player.playerIndex+=1)}this.squares[this.player.playerIndex].classList.add("player"),this.squares[this.player.playerIndex].innerHTML="<i class='fas fa-starfighter'></i>"},GameEngine.prototype.removeInvaders=function(){for(let e=0;e<this.aliens.invadersCoord.length;e++)this.squares[this.aliens.invadersCoord[e]].classList.remove("invader")},GameEngine.prototype.startInvaders=function(){this.aliens.invadersID=setInterval((()=>{this.moveInvaders(),this.getPlayerLife()||(this.screens.eq(1).toggleClass("active"),this.screens.eq(3).toggleClass("active")),this.aliensDefeated&&$(".intermission-button").css("display","inline-block")}),350)},GameEngine.prototype.moveInvaders=function(){const e=this.aliens.invadersCoord[0]%this.gridWidth==0,s=this.aliens.invadersCoord[this.aliens.invadersCoord.length-1]%this.gridWidth==this.gridWidth-1;if(this.removeInvaders(),s&&this.aliens.goingRight)for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliens.invadersCoord[e]+=this.gridWidth+1,this.aliens.direction=-1,this.aliens.goingRight=!1;if(e&&!this.aliens.goingRight)for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliens.invadersCoord[e]+=this.gridWidth-1,this.aliens.direction=1,this.aliens.goingRight=!0;for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliens.invadersCoord[e]+=this.aliens.direction;this.drawInvaders(),this.squares[this.player.playerIndex].classList.contains("invader","player")&&(this.player.alive=!1,clearInterval(this.aliens.invadersID)),this.aliensRemoved.length===this.aliens.invadersCoord.length&&(this.aliensDefeated=!0,this.currentLevel++,clearInterval(this.aliens.invadersID))},GameEngine.prototype.shootLaser=function(e){let s,i=this.player.playerIndex;const t=$(".results"),a=()=>{if(this.squares[i].classList.remove("laser"),i-=this.gridWidth,i>=0){if(this.squares[i].classList.add("laser"),this.squares[i].innerHTML="<i class='fas fa-grip-lines-vertical'></i>",this.squares[i].classList.contains("invader")){this.score++,t.text(this.score),this.squares[i].classList.remove("laser"),this.squares[i].classList.remove("invader"),this.squares[i].classList.add("boom"),this.squares[i].innerHTML="<i class='fad fa-badge'></i>",setTimeout((()=>this.squares[i].classList.remove("boom")),100),clearInterval(s);const e=this.aliens.invadersCoord.indexOf(i);this.aliensRemoved.push(e)}}else clearInterval(s)};switch(e.keyCode){case 32:s=setInterval((()=>{a()}),100)}},GameEngine.prototype.run=function(){this.gameOver||this.update()},GameEngine.prototype.switchLevels=function(e){switch(e){case 1:$.ajax({type:"GET",url:"https://mypyimagescrapper.ue.r.appspot.com/image-scrapper",data:{url:"https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)"},dataType:"json",success:function(s){$(".gameplay-screen").css("background-image","url('assets/img/indepdence-day-bg.png')");var i=Object.values(s);$(".ajax-image").attr("src",i[0]),$(".ajax-title").text("War of the Worlds"),$(".ajax-lvl-number").text(e),$(".starring-list").html("")}}),$.ajax({type:"GET",url:"https://cs361-text-scraper-chenall.wl.r.appspot.com/data/",data:{url:"https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)"},dataType:"json",crossDomain:!0,success:function(e){var s=e,i="";for(const e in s){var t=s[e];for(const e in t[0])"content"==e&&(i=t[0][e])}$(".ajax-intro").text(i)}}),$.ajax({type:"POST",url:"https://list-scraper.ue.r.appspot.com/?url=https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)",data:{url:"https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)"},dataType:"json",success:function(e){for(var s=4;s<8;s++){var i=`<li class='list-unstyled'><i class='fas fa-film'></i>${e[s]}</li>`;$(".starring-list").append(i)}}});break;case 2:$.ajax({type:"GET",url:"https://mypyimagescrapper.ue.r.appspot.com/image-scrapper",data:{url:"https://en.wikipedia.org/wiki/Independence_Day_(1996_film)"},dataType:"json",success:function(s){$(".gameplay-screen").css("background-image","url('assets/img/edge-of-tomorrow.png')");var i=Object.values(s);$(".ajax-image").attr("src",i[0]),$(".ajax-title").text("Independence Day"),$(".ajax-lvl-number").text(e),$(".starring-list").html("")}}),$.ajax({type:"GET",url:"https://cs361-text-scraper-chenall.wl.r.appspot.com/data/",data:{url:"https://en.wikipedia.org/wiki/Independence_Day_(1996_film)"},dataType:"json",crossDomain:!0,success:function(e){var s=e,i="";for(const e in s){var t=s[e];for(const e in t[0])"content"==e&&(i=t[0][e])}$(".ajax-intro").text(i)}}),$.ajax({type:"POST",url:"https://list-scraper.ue.r.appspot.com/?url=https://en.wikipedia.org/wiki/Independence_Day_(1996_film)",data:{url:"https://en.wikipedia.org/wiki/Independence_Day_(1996_film)"},dataType:"json",success:function(e){console.log(e);for(var s=4;s<8;s++){var i=`<li class='list-unstyled'><i class='fas fa-film'></i>${e[s]}</li>`;$(".starring-list").append(i)}}});break;case 3:$.ajax({type:"GET",url:"https://mypyimagescrapper.ue.r.appspot.com/image-scrapper",data:{url:"https://en.wikipedia.org/wiki/Edge_of_Tomorrow"},dataType:"json",success:function(e){$(".next-lvl-button").css("display","none");var s=Object.values(e);$(".ajax-image").attr("src",s[0]),$(".ajax-title").text("Edge of Tomorrow"),$(".ajax-lvl").text("YOU HAVE WON!").addClass("blink"),$(".starring-list").html("")}}),$.ajax({type:"GET",url:"https://cs361-text-scraper-chenall.wl.r.appspot.com/data/",data:{url:"https://en.wikipedia.org/wiki/Edge_of_Tomorrow"},dataType:"json",crossDomain:!0,success:function(e){var s=e,i="";for(const e in s){var t=s[e];for(const e in t[0])"content"==e&&(i=t[0][e])}$(".ajax-intro").text(i)}}),$.ajax({type:"POST",url:"https://list-scraper.ue.r.appspot.com/?url=https://en.wikipedia.org/wiki/Edge_of_Tomorrow",data:{url:"https://en.wikipedia.org/wiki/Edge_of_Tomorrow"},dataType:"json",success:function(e){console.log(e);for(var s=9;s<12;s++){var i=`<li class='list-unstyled'><i class='fas fa-film'></i>${e[s]}</li>`;$(".starring-list").append(i)}}})}},GameEngine.prototype.resetGame=function(){this.gameOver=!1,this.aliensDefeated=!1,this.aliensRemoved=[],this.currentScreen="start",$(".intermission-button").css("display","none"),this.score=0,$(".results").text(0);for(let e=0;e<225;e++)this.squares[e].classList.remove("invader"),this.squares[e].classList.remove("player");this.aliens.resetAliens(),this.drawInvaders(),this.player.initialize(),this.addPlayer()},GameEngine.prototype.startGame=function(){this.run()},GameEngine.prototype.getPlayerLife=function(){return this.player.alive}})),$(document).ready((function(){(new WOW).init();const e=$(".grid"),s=$("main.prototype").children();$(".start-game").click((()=>{s.eq(0).toggleClass("active"),$(".modal-backdrop").css("display","none"),s.eq(1).toggleClass("active");let i=new GameEngine;i.initialize(e),i.startGame()})),$(".next-button").click((()=>{s.eq(1).toggleClass("active"),s.eq(2).toggleClass("active")})),$(".home-button").click((()=>{location.reload()}))}));
//# sourceMappingURL=main-min.js.map