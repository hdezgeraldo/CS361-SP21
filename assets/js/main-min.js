var Alien=function(){};$(document).ready((function(){Alien.prototype.initialize=function(){this.direction=1,this.goingRight=!0,this.invadersID,this.invadersCoord=[]},Alien.prototype.resetAliens=function(){for(let e=0;e<30;e++)this.invadersCoord[e]=e>9&&e<20?e+5:e>=20&&e<30?e+10:e}}));var Player=function(){};$(document).ready((function(){Player.prototype.initialize=function(e){this.squares=e,this.playerIndex=202,this.alive=!0},Player.prototype.getPlayerIndex=function(){return this.playerIndex}}));var GameEngine=function(){};$(document).ready((function(){GameEngine.prototype.initialize=function(e){this.gameOver=!1,this.aliensDefeated=!1,this.grid=e,this.gridWidth=15,this.currentLevel=0,this.score=0,this.aliensRemoved=[],this.currentScreen="start",this.screens=$("main.prototype").children();for(let e=0;e<225;e++)this.grid.append("<div class='square'></div>");return this.squares=Array.from($(".grid .square")),this.aliens=new Alien,this.aliens.initialize(),this.aliens.resetAliens(),this.drawInvaders(),this.player=new Player,this.player.initialize(),this.addPlayer(),this},GameEngine.prototype.update=function(){this.player.alive&&this.currentLevel<3&&($(document).keydown((e=>{this.movePlayer(e)})),this.aliens.invadersID=setInterval((()=>{this.moveInvaders(),this.getPlayerLife()||(this.screens.eq(1).toggleClass("active"),this.screens.eq(3).toggleClass("active")),this.aliensDefeated&&$(".next-button").css("display","inline-block")}),500),$(document).keydown((e=>{this.shootLaser(e)})))},GameEngine.prototype.drawInvaders=function(){this.aliens.invadersCoord;for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliensRemoved.includes(e)||(this.squares[this.aliens.invadersCoord[e]].classList.add("invader"),this.squares[this.aliens.invadersCoord[e]].innerHTML="<i class='fas fa-alien-monster'></i>")},GameEngine.prototype.addPlayer=function(){let e=this.player.playerIndex;this.squares[e].classList.add("player"),this.squares[e].innerHTML="<i class='fas fa-starfighter'></i>"},GameEngine.prototype.movePlayer=function(e){switch(this.squares[this.player.playerIndex].classList.remove("player"),e.key){case"ArrowLeft":this.player.playerIndex%this.gridWidth!=0&&(this.player.playerIndex-=1);break;case"ArrowRight":this.player.playerIndex%this.gridWidth<this.gridWidth-1&&(this.player.playerIndex+=1)}this.squares[this.player.playerIndex].classList.add("player"),this.squares[this.player.playerIndex].innerHTML="<i class='fas fa-starfighter'></i>"},GameEngine.prototype.removeInvaders=function(){for(let e=0;e<this.aliens.invadersCoord.length;e++)this.squares[this.aliens.invadersCoord[e]].classList.remove("invader")},GameEngine.prototype.moveInvaders=function(){const e=this.aliens.invadersCoord[0]%this.gridWidth==0,i=this.aliens.invadersCoord[this.aliens.invadersCoord.length-1]%this.gridWidth==this.gridWidth-1;if(this.removeInvaders(),i&&this.aliens.goingRight)for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliens.invadersCoord[e]+=this.gridWidth+1,this.aliens.direction=-1,this.aliens.goingRight=!1;if(e&&!this.aliens.goingRight)for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliens.invadersCoord[e]+=this.gridWidth-1,this.aliens.direction=1,this.aliens.goingRight=!0;for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliens.invadersCoord[e]+=this.aliens.direction;this.drawInvaders(),this.squares[this.player.playerIndex].classList.contains("invader","player")&&(this.player.alive=!1,clearInterval(this.aliens.invadersID));for(let e=0;e<this.aliens.invadersCoord.length;e++)this.aliens.invadersCoord[e]>this.squares.length&&(this.player.alive=!1,clearInterval(this.aliens.invadersID));this.aliensRemoved.length===this.aliens.invadersCoord.length&&(this.aliensDefeated=!0,clearInterval(this.aliens.invadersID))},GameEngine.prototype.shootLaser=function(e){let i,s=this.player.playerIndex;const t=$(".results"),a=()=>{if(this.squares[s].classList.remove("laser"),s-=this.gridWidth,s>=0){if(this.squares[s].classList.add("laser"),this.squares[s].innerHTML="<i class='fas fa-grip-lines-vertical'></i>",this.squares[s].classList.contains("invader")){this.score++,t.text(this.score),this.squares[s].classList.remove("laser"),this.squares[s].classList.remove("invader"),this.squares[s].classList.add("boom"),this.squares[s].innerHTML="<i class='fad fa-badge'></i>",setTimeout((()=>this.squares[s].classList.remove("boom")),100),clearInterval(i);const e=this.aliens.invadersCoord.indexOf(s);this.aliensRemoved.push(e)}}else clearInterval(i)};switch(e.keyCode){case 32:i=setInterval((()=>{a()}),100)}},GameEngine.prototype.run=function(){this.gameOver||this.update()},GameEngine.prototype.switchScreen=function(){},GameEngine.prototype.resetGame=function(){this.score=0},GameEngine.prototype.startGame=function(){this.run()},GameEngine.prototype.getPlayerLife=function(){return this.player.alive}})),$(document).ready((function(){(new WOW).init();const e=$(".grid"),i=$("main.prototype").children();$(".start-game").click((()=>{i.eq(0).toggleClass("active"),$(".modal-backdrop").css("display","none"),i.eq(1).toggleClass("active");let s=new GameEngine;s.initialize(e),s.startGame()})),$(".next-button").click((()=>{i.eq(1).toggleClass("active"),i.eq(2).toggleClass("active")})),$(".home-button").click((()=>{location.reload()}))}));
//# sourceMappingURL=main-min.js.map