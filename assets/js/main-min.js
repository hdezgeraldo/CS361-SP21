const grid=document.querySelector(".grid"),resultDisplay=document.querySelector(".results");let invadersID,currentShooterIndex=202,gridWidth=15,direction=1,goingRight=!0,aliensRemoved=[],results=0;for(let e=0;e<225;e++){const r=document.createElement("div");r.textContent=e,grid.appendChild(r)}const squares=Array.from(document.querySelectorAll(".grid div")),alienInvaders=[0,1,2,3,4,5,6,7,8,9,15,16,17,18,19,20,21,22,23,24,30,31,32,33,34,35,36,37,38,39];function drawInvaders(){for(let e=0;e<alienInvaders.length;e++)aliensRemoved.includes(e)||squares[alienInvaders[e]].classList.add("invader")}function removeInvaders(){for(let e=0;e<alienInvaders.length;e++)squares[alienInvaders[e]].classList.remove("invader")}function moveShooter(e){switch(squares[currentShooterIndex].classList.remove("shooter"),e.key){case"ArrowLeft":currentShooterIndex%gridWidth!=0&&(currentShooterIndex-=1);break;case"ArrowRight":currentShooterIndex%gridWidth<gridWidth-1&&(currentShooterIndex+=1)}squares[currentShooterIndex].classList.add("shooter")}function moveInvaders(){const e=alienInvaders[0]%gridWidth==0,r=alienInvaders[alienInvaders.length-1]%gridWidth==gridWidth-1;if(removeInvaders(),r&&goingRight)for(let e=0;e<alienInvaders.length;e++)alienInvaders[e]+=gridWidth+1,direction=-1,goingRight=!1;if(e&&!goingRight)for(let e=0;e<alienInvaders.length;e++)alienInvaders[e]+=gridWidth-1,direction=1,goingRight=!0;for(let e=0;e<alienInvaders.length;e++)alienInvaders[e]+=direction;drawInvaders(),squares[currentShooterIndex].classList.contains("invader","shooter")&&(resultDisplay.textContent="GAME OVER",clearInterval(invadersID));for(let e=0;e<alienInvaders.length;e++)alienInvaders[e]>squares.length&&(resultDisplay.innerHTML="GAME OVER",clearInterval(invadersID));aliensRemoved.length===alienInvaders.length&&(resultDisplay.innerHTML="YOU WIN",clearInterval(invadersID))}function shoot(e){let r,n=currentShooterIndex;switch(e.keyCode){case 32:r=setInterval((function(){if(squares[n].classList.remove("laser"),n-=gridWidth,n>=0){if(squares[n].classList.add("laser"),console.log(n),console.log(squares[n]),squares[n].classList.contains("invader")){results++,resultDisplay.innerHTML=results,squares[n].classList.remove("laser"),squares[n].classList.remove("invader"),squares[n].classList.add("boom"),setTimeout((()=>squares[n].classList.remove("boom")),300),clearInterval(r);const e=alienInvaders.indexOf(n);aliensRemoved.push(e)}}else clearInterval(r)}),100)}}drawInvaders(),squares[currentShooterIndex].classList.add("shooter"),document.addEventListener("keydown",moveShooter),invadersID=setInterval(moveInvaders,1500),document.addEventListener("keydown",shoot),$(document).ready((function(){(new WOW).init()}));
//# sourceMappingURL=main-min.js.map