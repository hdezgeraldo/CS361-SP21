var Alien=function(){};$(document).ready((function(){Alien.prototype.initialize=function(){this.direction=1,this.goingRight=!0,this.invadersID,this.invadersCoord=[]},Alien.prototype.resetAliens=function(){for(let s=0;s<30;s++)this.invadersCoord[s]=s>9&&s<20?s+5:s>=20&&s<30?s+10:s}}));var Player=function(){};$(document).ready((function(){Player.prototype.initialize=function(s){this.squares=s,this.playerIndex=202,this.alive=!0},Player.prototype.getPlayerIndex=function(){return this.playerIndex}}));var GameEngine=function(){};$(document).ready((function(){GameEngine.prototype.initialize=function(s){this.gameOver=!1,this.aliensDefeated=!1,this.grid=s,this.gridWidth=15,this.currentLevel=0,this.score=0,this.aliensRemoved=[],this.currentScreen="start",this.screens=$("main.prototype").children();for(let s=0;s<225;s++)this.grid.append("<div class='square'></div>");this.squares=Array.from($(".grid .square")),this.aliens=new Alien,this.aliens.initialize(),this.aliens.resetAliens(),this.drawInvaders(),this.player=new Player,this.player.initialize(),this.addPlayer()},GameEngine.prototype.update=function(){this.player.alive&&this.currentLevel<3&&($(document).keydown((s=>{this.movePlayer(s)})),this.startInvaders(),$(".intermission-button").click((()=>{this.switchLevels(this.currentLevel),this.screens.eq(1).toggleClass("active"),this.screens.eq(2).fadeIn(750).toggleClass("active")})),$(".next-lvl-button").click((()=>{this.resetGame(),this.screens.eq(1).toggleClass("active"),this.startInvaders(),this.screens.eq(2).toggleClass("active"),this.screens.eq(2).css("display","none")})),$(document).keydown((s=>{this.shootLaser(s)})))},GameEngine.prototype.drawInvaders=function(){this.aliens.invadersCoord;for(let s=0;s<this.aliens.invadersCoord.length;s++)this.aliensRemoved.includes(s)||(this.squares[this.aliens.invadersCoord[s]].classList.add("invader"),this.squares[this.aliens.invadersCoord[s]].innerHTML="<i class='fas fa-alien-monster'></i>")},GameEngine.prototype.addPlayer=function(){let s=this.player.playerIndex;this.squares[s].classList.add("player"),this.squares[s].innerHTML="<i class='fas fa-starfighter'></i>"},GameEngine.prototype.movePlayer=function(s){switch(this.squares[this.player.playerIndex].classList.remove("player"),s.key){case"ArrowLeft":this.player.playerIndex%this.gridWidth!=0&&(this.player.playerIndex-=1);break;case"ArrowRight":this.player.playerIndex%this.gridWidth<this.gridWidth-1&&(this.player.playerIndex+=1)}this.squares[this.player.playerIndex].classList.add("player"),this.squares[this.player.playerIndex].innerHTML="<i class='fas fa-starfighter'></i>"},GameEngine.prototype.removeInvaders=function(){for(let s=0;s<this.aliens.invadersCoord.length;s++)this.squares[this.aliens.invadersCoord[s]].classList.remove("invader")},GameEngine.prototype.startInvaders=function(){this.aliens.invadersID=setInterval((()=>{this.moveInvaders(),this.getPlayerLife()||(this.screens.eq(1).toggleClass("active"),this.screens.eq(3).toggleClass("active")),this.aliensDefeated&&$(".intermission-button").css("display","inline-block")}),500)},GameEngine.prototype.moveInvaders=function(){const s=this.aliens.invadersCoord[0]%this.gridWidth==0,e=this.aliens.invadersCoord[this.aliens.invadersCoord.length-1]%this.gridWidth==this.gridWidth-1;if(this.removeInvaders(),e&&this.aliens.goingRight)for(let s=0;s<this.aliens.invadersCoord.length;s++)this.aliens.invadersCoord[s]+=this.gridWidth+1,this.aliens.direction=-1,this.aliens.goingRight=!1;if(s&&!this.aliens.goingRight)for(let s=0;s<this.aliens.invadersCoord.length;s++)this.aliens.invadersCoord[s]+=this.gridWidth-1,this.aliens.direction=1,this.aliens.goingRight=!0;for(let s=0;s<this.aliens.invadersCoord.length;s++)this.aliens.invadersCoord[s]+=this.aliens.direction;this.drawInvaders(),this.squares[this.player.playerIndex].classList.contains("invader","player")&&(this.player.alive=!1,clearInterval(this.aliens.invadersID));for(let s=0;s<this.aliens.invadersCoord.length;s++)this.aliens.invadersCoord[s]>this.squares.length&&(this.player.alive=!1,clearInterval(this.aliens.invadersID));this.aliensRemoved.length===this.aliens.invadersCoord.length&&(this.aliensDefeated=!0,this.currentLevel++,clearInterval(this.aliens.invadersID))},GameEngine.prototype.shootLaser=function(s){let e,i=this.player.playerIndex;const t=$(".results"),a=()=>{if(this.squares[i].classList.remove("laser"),i-=this.gridWidth,i>=0){if(this.squares[i].classList.add("laser"),this.squares[i].innerHTML="<i class='fas fa-grip-lines-vertical'></i>",this.squares[i].classList.contains("invader")){this.score++,t.text(this.score),this.squares[i].classList.remove("laser"),this.squares[i].classList.remove("invader"),this.squares[i].classList.add("boom"),this.squares[i].innerHTML="<i class='fad fa-badge'></i>",setTimeout((()=>this.squares[i].classList.remove("boom")),100),clearInterval(e);const s=this.aliens.invadersCoord.indexOf(i);this.aliensRemoved.push(s)}}else clearInterval(e)};switch(s.keyCode){case 32:e=setInterval((()=>{a()}),100)}},GameEngine.prototype.run=function(){this.gameOver||this.update()},GameEngine.prototype.switchLevels=function(s){switch(s){case 1:$.ajax({type:"GET",url:"https://mypyimagescrapper.ue.r.appspot.com/image-scrapper",data:{url:"https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)"},dataType:"json",success:function(e){var i=Object.values(e);$(".ajax-image").attr("src",i[0]),$(".ajax-title").text("War of the Worlds"),$(".ajax-lvl-number").text(s),$(".starring-list").html("<li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li>")}}),$.ajax({type:"GET",url:"https://cs361-text-scraper-chenall.wl.r.appspot.com/data/",data:{url:"https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)"},dataType:"json",crossDomain:!0,success:function(s){var e=s,i="";for(const s in e){var t=e[s];for(const s in t[0])"content"==s&&(i=t[0][s])}$(".ajax-intro").text(i)}}),$.ajax({type:"POST",url:"https://list-scraper.ue.r.appspot.com/?url=https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)",data:{url:"https://en.wikipedia.org/wiki/War_of_the_Worlds_(2005_film)"},dataType:"json",success:function(s){console.log(s)}});break;case 2:$.ajax({type:"GET",url:"https://mypyimagescrapper.ue.r.appspot.com/image-scrapper",data:{url:"https://en.wikipedia.org/wiki/Independence_Day_(1996_film)"},dataType:"json",success:function(e){var i=Object.values(e);$(".ajax-image").attr("src",i[0]),$(".ajax-title").text("Independence Day"),$(".ajax-lvl-number").text(s),$(".starring-list").html("<li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li>")}}),$.ajax({type:"POST",url:"https://cs361-text-scraper-chenall.wl.r.appspot.com/data/",data:{url:"https://en.wikipedia.org/wiki/Independence_Day_(1996_film)"},dataType:"json",crossDomain:!0,success:function(s){var e=s,i="";for(const s in e){var t=e[s];for(const s in t[0])"content"==s&&(i=t[0][s])}$(".ajax-intro").text(i)}});break;case 3:$.ajax({type:"GET",url:"https://mypyimagescrapper.ue.r.appspot.com/image-scrapper",data:{url:"https://en.wikipedia.org/wiki/Edge_of_Tomorrow"},dataType:"json",success:function(e){var i=Object.values(e);$(".ajax-image").attr("src",i[0]),$(".ajax-title").text("Live, Die, Repeat"),$(".ajax-lvl-number").text(s),$(".starring-list").html("<li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li><li class='list-unstyled'><i class='fas fa-film'></i>Tom Cruise</li>")}}),$.ajax({type:"POST",url:"https://cs361-text-scraper-chenall.wl.r.appspot.com/data/",data:{url:"https://en.wikipedia.org/wiki/Edge_of_Tomorrow"},dataType:"json",crossDomain:!0,success:function(s){var e=s,i="";for(const s in e){var t=e[s];for(const s in t[0])"content"==s&&(i=t[0][s])}$(".ajax-intro").text(i)}})}},GameEngine.prototype.resetGame=function(){this.gameOver=!1,this.aliensDefeated=!1,this.aliensRemoved=[],this.currentScreen="start",$(".intermission-button").css("display","none"),this.score=0,$(".results").text(0);for(let s=0;s<225;s++)this.squares[s].classList.remove("invader"),this.squares[s].classList.remove("player");this.aliens.resetAliens(),this.drawInvaders(),this.player.initialize(),this.addPlayer()},GameEngine.prototype.startGame=function(){this.run()},GameEngine.prototype.getPlayerLife=function(){return this.player.alive}})),$(document).ready((function(){(new WOW).init();const s=$(".grid"),e=$("main.prototype").children();$(".start-game").click((()=>{e.eq(0).toggleClass("active"),$(".modal-backdrop").css("display","none"),e.eq(1).toggleClass("active");let i=new GameEngine;i.initialize(s),i.startGame()})),$(".next-button").click((()=>{e.eq(1).toggleClass("active"),e.eq(2).toggleClass("active")})),$(".home-button").click((()=>{location.reload()}))}));
//# sourceMappingURL=main-min.js.map